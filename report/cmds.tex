\renewcommand{\ttdefault}{pxtt}

% \renewcommand{\URL}{\url}
\newcommand{\cc}[1]{\mbox{\smaller[0.5]\texttt{#1}}}

% enable the below for ACM camera ready
%\clubpenalty=10000
%\widowpenalty=10000
%\renewcommand*{\bibfont}{\raggedright}

%\linespread{1.2}

\fvset{fontsize=\scriptsize,xleftmargin=8pt,numbers=left,numbersep=5pt}

\input{code/fmt}
\newcommand{\figrule}{\hrule width \hsize height .33pt}
\newcommand{\coderule}{\vspace{-0.5em}\figrule\vspace{0.2em}}

\setlength{\abovedisplayskip}{0pt}
\setlength{\abovedisplayshortskip}{0pt}
\setlength{\belowdisplayskip}{0pt}
\setlength{\belowdisplayshortskip}{0pt}
\setlength{\jot}{0pt}

\def\Snospace~{\S{}}
\renewcommand*\sectionautorefname{\Snospace}
\def\sectionautorefname{\Snospace}
\def\subsectionautorefname{\Snospace}
\def\subsubsectionautorefname{\Snospace}
\def\chapterautorefname{\Snospace}
%\renewcommand{\figurename}{Fig.}
%\def\figureautorefname{\figurename}
% \newcommand{\subfigureautorefname}{\figureautorefname}

%\numberwithin{equation}{section}
\newcommand{\yes}{Y}
\newcommand{\no}{}

% sema
\newcommand{\shl}{\ \cc{<}\cc{<}\ }
\newcommand{\shr}{\ \cc{>}\cc{>}\ }
\newcommand{\x}{$\times$\xspace}

\if 0
\renewcommand{\topfraction}{0.9}
\renewcommand{\dbltopfraction}{0.9}
\renewcommand{\bottomfraction}{0.8}
\renewcommand{\textfraction}{0.05}
\renewcommand{\floatpagefraction}{0.9}
\renewcommand{\dblfloatpagefraction}{0.9}
\setcounter{topnumber}{10}
\setcounter{bottomnumber}{10}
\setcounter{totalnumber}{10}
\setcounter{dbltopnumber}{10}
\fi

\newif\ifdraft\drafttrue
\newif\ifnotes\notestrue
\ifdraft\else\notesfalse\fi

%% Ensure ligatures (e.g., ``fine official flag'') can be copy/pasted from PDF.
\input{glyphtounicode}
\pdfgentounicode=1

\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}

% include macros
\newcommand{\includepdf}[1]{
  \includegraphics[width=\columnwidth]{#1}
}
\newcommand{\includeplot}[1]{
  \resizebox{\columnwidth}{!}{\input{#1}}
}

% list
\newcommand{\squishlist}{
\begin{itemize}[noitemsep,nolistsep]
  \setlength{\itemsep}{-0pt}
}
\newcommand{\squishend}{
  \end{itemize}
}

\newcommand{\squishlists}{
\begin{itemize}[leftmargin=3mm,noitemsep,nolistsep]
  \setlength{\itemsep}{-0pt}
}
\newcommand{\squishends}{
  \end{itemize}
}

%%
%% NOTE.
%%  to use circled number in caption, use
%%   (e.g., \protect\C{1})
%%
\usepackage{tikz}
\newcommand*\WC[1]{%
\begin{tikzpicture}[baseline=(C.base)]
\node[draw,circle,inner sep=0.2pt](C) {#1};
\end{tikzpicture}}

\newcommand*\BC[1]{%
\begin{tikzpicture}[baseline=(C.base)]
\node[draw,circle,fill=black,inner sep=0.2pt](C) {\textcolor{white}{#1}};
\end{tikzpicture}}

\usepackage{xstring}
\newcommand{\PP}[1]{
\vspace{2px}
\noindent{\bf \IfEndWith{#1}{.}{#1}{#1.}}
}

\usepackage{xstring}
\newcommand{\pp}[1]{
\vspace{2px}
\noindent{\bf {#1.}}
}


\newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}}


%% units
\newcommand{\etal}{\textit{et al}.\xspace}
\newcommand{\ie}{\textit{i}.\textit{e}.}
\newcommand{\eg}{\textit{e}.\textit{g}.}

%% box
\newcommand{\boxbeg}{
\noindent
\begin{tabular}{|l|}\hline
\begin{minipage}{0.94\columnwidth}
\vspace{3px}
\noindent
}

\newcommand{\boxend}{
\vspace{2px}
\end{minipage}\\ \hline
\end{tabular}
\vspace{0.5px}
}

%% proof
\newcommand{\lemmaautorefname}{Lemma}
\newcommand{\invariantautorefname}{Invariant}
\newcommand{\crlf}{{\color{white}  .}}

\newtheorem{theorem1}{Theorem}
\newtheorem*{theorem1*}{Theorem}
% \newtheorem{corollary1}{Corollary}[theorem]
\newtheorem{lemma1}{Lemma}
\newtheorem*{lemma1*}{Lemma}

\newcommand{\densetbl}{\addtolength{\tabcolsep}{-3pt}}
\newcommand{\densetblend}{\addtolength{\tabcolsep}{3pt}}
\newcommand{\fx}[1]{\mbox{\smaller[0]\textsc{#1}}}
\newcommand{\rot}[1]{\rotatebox[origin=c]{90}{#1}}

\newcommand{\V}{\checkmark}
\newcommand{\X}{{\footnotesize $\times$}\xspace}
\renewcommand{\O}{\phantom{0}}
\newcommand{\N}{-}

\newcommand{\NO}{{\footnotesize $\times$}}
\newcommand{\YES}{{\large $\bullet$}}
\newcommand{\PTRW}{{$\blacktriangle$}}
\newcommand{\PTWW}{{\scriptsize $\triangle$}}

% instruction
\newcommand{\wrpkru}{\mbox{\cc{wrpkru}}\xspace}
\newcommand{\rdtsc}{\mbox{\cc{rdtscp}}\xspace}
\newcommand{\cas}{\mbox{\cc{cas}}\xspace}
\newcommand{\clwb}{\mbox{\cc{clwb}}\xspace}
\newcommand{\sfence}{\mbox{\cc{sfence}}\xspace}

% table
% \newcommand{\cmark}{\textbf{\small\color{Green}\Circle}}%
% \newcommand{\xmark}{\textbf{\small\color{Red}$\times$}}%
% \newcommand{\qmark}{\textbf{\small\color{orange}$\triangle$}}%
\newcommand{\cmark}{\tikz{\draw[Green,fill=Green] (0,0) circle (1ex);}}%
\newcommand{\xmark}{{\small \color{Red}$\bm{\times}$}}%
\newcommand{\qmark}{\tikz{\filldraw[draw=orange,fill=orange] (0,0) -- (0.2cm,0) -- (0.1cm,0.2cm);}}%
